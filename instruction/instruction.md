# 8086汇编指令笔记
8086指令系统记录

# 目录
* [寻址方式](#寻址方式)
* [基本指令](#基本指令)
    * [数据传送指令](#数据传送指令)
## 寻址方式
寻址方式即为**指令中操作数的表示方式**
1. 立即寻址
2. 寄存器寻址
3. 存储器寻址
4. 外设I/O端口寻址
5. 程序转移操作寻址

立即寻址：16进制立即数如果以A-F开头，则必须在前面加0  
寄存器寻址：操作数**直接保存在寄存器中**  

### 存储器寻址:  
**操作数保存在存储器中**  
EU读取一个存储器操作数时，必须将一个偏移地址传送给BIU,BIU运算后  
产生一个20位的物力地址，然后执行该存取该操作数所需要的总线周期。  
这个**偏移量**成为操作数的**有效地址EA**，表示该操作数所在的存储单元与段起始地址的距离  
关于EA
```
操作数的偏移地址(有效地址EA)直接由指令给出(直接地址值和符号地址两种形式)，
直接地址值用中括号[]括起来，与立即数寻址相区别；符号地址可不使用[]。
符号地址是变量名，要与寄存器分清楚
操作数地址为：DS:偏移地址 或 ES:偏移地址。DS为隐含指定
```
1) 直接寻址  
指令直接给出操作数的偏移地址。INC byte ptr [04a2h]  
2) 寄存器间接寻址  
**偏移地址**保存在**寄存器**中给出。INC byte ptr[bx]  **这里和符号地址区分，所以要用[bx]**
3) 寄存器相对寻址
寄存器的内容与8位或16位位移量之和作为EA 例：mov ax，count[si]  （move ax,[count+si]）
**基址寻址和变址寻址又称为寄存器相对寻址**
4) 基址变址寻址
将基址寄存器（BX或BP）与变址寄存器（SI或DI）内容之和作为操作数所在存储单元的有效地址。
MOV  AX，[BX+DI]   或  MOV  AX，[BX][DI]  
DS:(BX)+(DI) 对应存储单元里一个字送AX。
**如果再加一个8位或16位的位移量，则称为相对基址变址寻址**

### 与转移地址有关的寻址方式
1. 段内直接转移（相对寻址方式）
格式：JMP   SHORT OPR 执行的操作：(IP)←(IP)+8位位移量  
格式：JMP   NEAR PTR OPR  执行的操作：(IP) ← (IP)+16位位移量  
**8位和16位位移量由目标地址OPR确定，可使用符号地址**
2. 段内间接转移
格式：	JMP   WORD PTR  OPR 或JMP   reg
执行的操作：(IP)←(EA)  
**有效地址EA值由OPR的寻址方式确定，可以使用mem或reg**  
**与相对寻址方式的区别在于IP直接变为EA**
3. 段间直接转移  
格式：JMP   FAR PTR  OPR
执行的操作：(IP)←OPR的段内偏移地址  (CS)←OPR所在段的段地址  
**在汇编格式中OPR 可使用符号地址，而机器语言中则要指定转向的偏移地址和段地址**
4. 段间间接转移
格式：JMP  DWORD PTR  OPR
执行的操作：(IP)←(EA)   (CS)←(EA+2)  
**EA由OPR的寻址方式为存储器寻址方式**

## 基本指令

### 数据传送指令

#### 通用数据传送指令
1. **mov**  
指令格式：MOV   dst ， src  执行的操作(8086为16位指令)： dst ← src  
```
(1) 双操作数指令不允许两个操作数同时为段寄 存器或存储器操作数（串操作除外）
(2) 代码段寄存器CS和立即数均不能作为目的操作数立即数也不能传送到段寄存器中。
(3) dest与src必须类型匹配，即同时是字节或字类型。
```
2. **xchg**  
指令格式：XCHG   oprd1 , oprd2 ；
功能：交换oprd1与oprd2的内容

3. **xlat**  
格式：XLAT OPR或XLAT
执行的操作(8086为16位指令)： (AL) ← ((BX)+(AL))
```
(1) BX通常为表格首址，利用该指令实现查表。由于AL只有8位，所以表格长度不能超过256
(2) OPR为表格首地址(一般为符号地址)，只为可读性而设置，不真正发挥作用
```
#### 堆栈和栈操作指令
进栈指令 格式：PUSH reg/mem/seg  
出栈指令 格式：POP reg/mem/seg  
```
堆栈操作都是字操作,进栈时SP自动减2,出栈时SP自动加2  
SS：SP在任何时候都指向当前的栈顶。栈顶指针SP总是指向最后进栈的数据  
栈操作指令，操作数没有立即数
```
#### 标志类指令
`先空着`

#### 地址传送指令
1. **lea**  
格式：  LEA  reg16 ， mem ； 
```
该指令的目的操作数不能使用段寄存器
源操作数可使用除立即数和寄存器外的任一种存储器寻址方式
```
2. **lds/les**  
`先空着`
#### 输入输出指令
`先空着`

### 算数运算指令

#### 加法指令
1. **add**  
格式：ADD   DST , SRC
ADD   reg/ mem ， reg/mem /imm 
2. **adc**
格式：ADC   DST , SRC
ADC reg/ mem ， reg/mem /imm   
执行的操作：(DST)←(SRC)+(DST)+CF














